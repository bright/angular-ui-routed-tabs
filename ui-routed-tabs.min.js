"use strict";!function(a){var b=a.module("ui-routed-tabs",[]);b.controller("RoutedTabsetController",["$scope",function(b){var c=this,d=c.tabs=b.tabs=[];c.select=function(b){a.forEach(d,function(a){a.active&&a!==b&&(a.active=!1)}),b.active=!0},c.addTab=function(a){d.push(a),1===d.length?a.active=!0:a.active&&c.select(a)},c.removeTab=function(a){var b=d.indexOf(a);if(a.active&&d.length>1&&!e){var f=b==d.length-1?b-1:b+1;c.select(d[f])}d.splice(b,1)};var e;b.$on("$destroy",function(){e=!0})}]),b.run(["$templateCache",function(a){a.put("template/tabs/routed-tabset.html","<div>\n  <ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n</div>\n"),a.put("template/tabs/routed-tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" routed-tab-heading-transclude></a>\n</li>\n')}]),b.directive("routedTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"RoutedTabsetController",templateUrl:"template/tabs/routed-tabset.html",link:function(b,c,d){b.vertical=a.isDefined(d.vertical)?b.$parent.$eval(d.vertical):!1,b.justified=a.isDefined(d.justified)?b.$parent.$eval(d.justified):!1}}}),b.directive("routedTab",["$parse","$state","$rootScope",function(a,b,c){function d(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b(a[c]))return!0;return!1}return{require:"^routedTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/routed-tab.html",transclude:!0,scope:{heading:"@",otherActiveRoutes:"@"},controller:function(){},compile:function(e,f,g){return function(e,f,h,i){var j=a(h.otherActiveRoutes)(e)||[];j.push(h.uiSref);var k=function(){var a=d(j,function(a){return 0===b.current.name.indexOf(a)});a&&i.select(e)},l=c.$on("$stateChangeSuccess",k),m=c.$on("$stateChangeError",k),n=c.$on("$stateChangeCancel",k),o=c.$on("$stateNotFound",k);e.$on("$destroy",l),e.$on("$destroy",m),e.$on("$destroy",n),e.$on("$destroy",o),e.disabled=!1,h.disabled&&e.$parent.$watch(a(h.disabled),function(a){e.disabled=!!a}),e.select=function(){e.disabled||(e.active=!0)},i.addTab(e),e.$on("$destroy",function(){i.removeTab(e)}),e.headingElement=e.heading,e.heading||(e.headingElement=g(e.$parent)),k()}}}}]),b.directive("routedTabHeadingTransclude",function(){return{restrict:"A",require:"^routedTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}})}(angular);